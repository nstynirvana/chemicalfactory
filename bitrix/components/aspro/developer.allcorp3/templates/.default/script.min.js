void 0===window.JDeveloper&&(window.JDeveloper=function(result){var _private={inited:!1};Object.defineProperties(this,{inited:{get:function(){return _private.inited},set:function(value){value&&(_private.inited=!0)}}}),this.result=function(key){if("object"==typeof result&&void 0!==key&&Object.keys(result).indexOf(key)>-1)return result[key]},this.init()},window.JDeveloper.prototype={node:null,handlers:{},init:function(){if(!this.inited){this.inited=!0,this.node=BX("developer"),this.node.developer=this,this.bindEvents();var prefersColorScheme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(this.result.NEED_AJAX||this.result.color!==prefersColorScheme)&&this.refresh()}},bindEvents:function(){var that=this;"function"!=typeof this.handlers.onChangePrefersColorScheme&&(this.handlers.onChangePrefersColorScheme=function(event){event||(event=window.event);var newColorScheme=event.matches?"dark":"light";that.refresh()},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.handlers.onChangePrefersColorScheme)),"function"!=typeof this.handlers.onChangeThemeColor&&(this.handlers.onChangeThemeColor=function(){that.refresh()},BX.addCustomEvent("onChangeThemeColor",this.handlers.onChangeThemeColor))},unbindEvents:function(){"function"==typeof this.handlers.onChangeThemeColor&&(BX.removeCustomEvent("onChangeThemeColor",this.handlers.onChangeThemeColor),delete this.handlers.onChangeThemeColor)},refresh:function(){var componentAction="getDeveloper",componentName="aspro:developer.allcorp3",sessid=BX.message("bitrix_sessid"),lang=BX.message("LANGUAGE_ID"),siteId=arAsproOptions.SITE_ID,signedParams=this.result("SIGNED_PARAMS"),prefersColorScheme=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",that=this;BX.ajax({url:"/bitrix/services/main/ajax.php?mode=ajax&c="+encodeURIComponent(componentName)+"&action=getDeveloper&sessid="+sessid+"&SITE_ID="+siteId+"&siteId="+siteId+"&lang="+lang+"&signedParameters="+encodeURIComponent(signedParams)+"&clear_cache_session=Y&prefersColorScheme="+prefersColorScheme,method:"POST",async:!0,processData:!0,scriptsRunFirst:!0,emulateOnload:!0,start:!0,cache:!1,onsuccess:function(response){response.trim().length&&that.node&&(that.unbindEvents(),that.node.parentElement.insertAdjacentHTML("afterBegin",response),that.node.remove(),that.node=BX("developer"),that.node.developer=that,that.bindEvents())},onfailure:function(){}})}});
//# sourceMappingURL=script.min.js.map